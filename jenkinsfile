pipeline {
    agent any

    stages {
	
        stage('CLONE') {
            steps {
			
                echo 'CLONE THE CODE FROM GITHUB'
				git branch: 'main', url: 'https://github.com/rajudonkeshwar/webapp1.git'
            }
        }
			
	stage('BUILD') {
            steps {
			
                echo 'BUILD THE CODE USING MAVEN'
				sh 'mvn clean install'
				
            }
        }
			
	stage('DEPLOY') {
            steps {
			
                echo 'DEPLOY THE CODE TO THE TOMCAT APPLICATION'
		deploy adapters: [tomcat9(credentialsId: 'tomcat-application', path: '', url: 'http://54.82.74.148:8081/')], contextPath: 'facebook', war: '**/*.war'
				
            }
        }		
    }
}


